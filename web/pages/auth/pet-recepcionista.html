<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Registrar mascota - VetCare</title>
    <link rel="stylesheet" href="../../assets/css/auth.css" />
    <link rel="stylesheet" href="../../assets/css/style.css" />
</head>

<body>

    <header>
        <div class="container nav">
            <!-- Logo a la izquierda -->
            <a class="brand" href="#inicio" aria-l abel="Inicio">
                <span aria-hidden="true" class="logo"></span>
                <span class="name"><b>PawHospital</b></span>
            </a>

            <!-- Menú principal (centro) -->
            <nav class="menu" aria-label="Navegación principal">
                <a></a>
                <a href="index-user.html#doctores"></a>
                <a href="index-user.html#sobre"></a>
                <a href="index-user.html#contacto"></a>
            </nav>

            <!-- Botón de usuario con menú/mini tabla (derecha) -->
            <div class="user">
                <!-- El botón es un <button> dentro de un <form> con tabindex para permitir :focus-within sin JS -->
                <button class="trigger" type="button" aria-haspopup="dialog" aria-expanded="false">
                    <span class="avatar" aria-hidden="true"></span>
                    <span>Cuenta</span>
                    <span class="chev" aria-hidden="true">▾</span>
                </button>
                <!-- Panel sin JS: aparece al enfocar el contenedor .user -->
                <div class="panel" role="dialog" aria-label="Opciones de cuenta">
                    <table class="mini-table">
                        <thead>
                            <tr>
                                <th colspan="2">Cuenta (Recepcionista)</th>
                            </tr>
                        </thead>

                        <tfoot>
                            <tr>
                                <td colspan="2"><a class="btn" href="login.html">Cerrar sesión</a></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </header>
    <main class="auth-shell">
        <section class="card" role="region" aria-labelledby="reg-title">
            <div class="brand">
                <i class="brand__logo" aria-hidden="true"></i>
                <a href="../dashboard/recepcion.html" class="brand__name">PawHospital</a>
                <span class="badge2" style="margin-left:auto">Registro</span>
            </div>
            <!-- <div class="alert alert--error" role="alert">El correo ya está registrado.</div> -->
            <!-- <div class="alert alert--success" role="alert">¡Revisa tu correo para verificar la cuenta!</div> -->

            <h1 class="h" id="reg-title">Ingresa los datos de tu mascota</h1>

            <form class="form" method="post" action="/auth/register">

                <div>
                    <label class="label2" for="nombre">Nombre</label>
                    <input class="input" id="nombre" name="nombre" type="text" placeholder="Firulais" required />
                </div>


                <div>
                    <label class="label2" for="especieSelect">Especie</label>
                    <select id="especieSelect" name="especie" required></select>
                </div>

                <label class="label2">Raza</label>
                <div id="contenedor-raza">
                    <select id="razaSelect" name="raza" required></select>
                </div>


                <!--En caso de Gatos-->

                <!-- <div class="raza hidden" id="raza-gato">
                        <select id="razaSelect" name="raza" required></select>
                        </select>
                    </div> -->

                <!--en caso de reptiles-->
                <!-- <div class="raza hidden" id="raza-reptil">
                        <select id="razaSelect" name="raza" required></select>
                        </select>
                    </div> -->

                <!--en caso de aves-->
                <!-- <div class="raza hidden" id="raza-ave">
                        <select id="razaSelect" name="raza" required></select>
                        </select>
                    </div>
                </div> -->


                <div>
                    <label class="label2">Sexo</label>
                    <label>
                        <input type="radio" name="sexo" value="M" checked> M
                    </label>
                    <label>
                        <input type="radio" name="sexo" value="F"> F
                    </label>
                </div>

                <div>
                    <label class="label2" for="fechaNac">Fecha de nacimiento</label>
                    <input class="input2" id="fechaNac" name="fechaNac" type="date" required />
                </div>

                <div>
                    <label class="label2" for="fechaDes">Fecha de última desparacitación</label>
                    <input class="input2" id="fechaDes" name="fechaDes" type="date" required />
                </div>

                <div>
                    <label class="label2" for="RUAC">Registro Único de Animales de Compañía (RUAC)</label>
                    <input class="input" id="RUAC" name="RUAC" type="text" placeholder="PHCXA020304" required />
                </div>

                <div>
                    <label class="label2">¿Tu mascota está esterilizada?</label>
                    <label>
                        <input type="radio" name="esterilizado" value="si" checked> Sí
                    </label>
                    <label>
                        <input type="radio" name="esterilizado" value="no"> No
                    </label>
                    <label>
                        <input type="radio" name="esterilizado" value="no"> No sé
                    </label>
                </div>

                <div>
                    <label class="label2" for="largo">Largura</label>
                    <input class="input2" id="largo" name="largo" type="number" min="0" placeholder="80" required />
                    <span>cm</span>
                </div>

                <div>
                    <label class="label2" for="Altura">Altura</label>
                    <input class="input2" id="Altura" name="Altura" type="number" min="0" placeholder="78" required />
                    <span>cm</span>
                </div>

                <div>
                    <label class="label2" for="peso">Peso</label>
                    <input class="input2" id="peso" name="peso" type="number" min="0" placeholder="65" required />
                    <span>kg</span>
                </div>

                <!--En caso de Perros (Es lo que se ve inicialmente)-->

                <div>
                    <label class="label2" for="color">Color</label>
                    <select id="color" name="color" required>
                        <option value="Blanco">Blanco</option>
                        <option value="Negro">Negro</option>
                        <option value="Gris">Gris</option>
                        <option value="Marron">Marrón</option>
                        <option value="Crema_Beige">Crema / Beige</option>
                        <option value="Amarillo">Amarillo</option>
                        <option value="Naranja">Naranja</option>
                        <option value="Rojo">Rojo</option>
                        <option value="Verde">Verde</option>
                        <option value="Azul">Azul</option>
                        <option value="Violeta">Violeta</option>
                        <option value="Dorado">Dorado</option>
                        <option value="Plateado">Plateado</option>
                        <option value="Marron_Chocolate">Marrón</option>
                        <option value="Marron_Chocolate">Chocolate</option>
                        <option value="Rosa">Rosa</option>
                    </select>
                </div>


                <!--En caso de Perros (Es lo que se ve inicialmente)-->

                <div>
                    <label class="label2" for="colorS">Color Secundario</label>
                    <select id="colorS" name="colorS" required>
                        <option value="Blanco">Blanco</option>
                        <option value="Negro">Negro</option>
                        <option value="Gris">Gris</option>
                        <option value="Marron">Marrón</option>
                        <option value="Crema_Beige">Crema / Beige</option>
                        <option value="Amarillo">Amarillo</option>
                        <option value="Naranja">Naranja</option>
                        <option value="Rojo">Rojo</option>
                        <option value="Verde">Verde</option>
                        <option value="Azul">Azul</option>
                        <option value="Violeta">Violeta</option>
                        <option value="Dorado">Dorado</option>
                        <option value="Plateado">Plateado</option>
                        <option value="Marron_Chocolate">Marrón</option>
                        <option value="Marron_Chocolate">Chocolate</option>
                        <option value="Rosa">Rosa</option>
                    </select>
                </div>

                <!--En caso de Perros (Es lo que se ve inicialmente)-->
                <label class="label2">Patrón de color</label>
                <div id="contenedor-patron">
                    <div class="patron" id="patron-perro">
                        <select id="select-perros" name="patron">
                            <option value="atigrado">Atigrado (rayas o bandas de color)</option>
                            <option value="merle">Merle (manchas irregulares sobre fondo oscuro)</option>
                            <option value="arlequin">Arlequín (manchas negras sobre fondo blanco)</option>
                            <option value="Particolor">Particolor (Manchas de dos o más colores)</option>
                            <option value="Piebald">Piebald (Un color con manchas de otro color sobre el cuerpo)
                            </option>
                            <option value="Bicolor">Bicolor (Mitad y mitad)</option>
                            <option value="Multicolor">Multicolor</option>
                            <option value="Manchas">Manchas</option>
                            <option value="Sólido">Sólido</option>
                        </select>
                    </div>

                    <!-- En caso de gatos -->
                    <div class="patron hidden" id="patron-gato">
                        <select id="select-gato" name="patron">
                            <option value="Bicolor">Bicolor</option>
                            <option value="Tricolor_Calico">Tricolor (Calicó)</option>
                            <option value="Carey_Tortie">Carey (Tortie)</option>
                            <option value="Atigrado_Tabby">Atigrado (Tabby)</option>
                            <option value="Tabby_Clasico">Atigrado Clásico (Classic Tabby)</option>
                            <option value="Tabby_Mackerel">Atigrado Rayado / Mackerel Tabby</option>
                            <option value="Tabby_Moteado">Atigrado Moteado (Spotted Tabby)</option>
                            <option value="Tabby_Ticked">Atigrado en Espiga / Ticked Tabby</option>
                            <option value="Multicolor">Multicolor</option>
                            <option value="Manchas">Manchas</option>
                            <option value="Sólido">Sólido</option>
                        </select>
                    </div>

                    <!--En caso de Reptiles-->

                    <div class="patron hidden" id="patron-reptile">
                        <select id="select-reptile" name="patron">
                            <option value="Albino">Albino</option>
                            <option value="Leucistico">Leucístico</option>
                            <option value="Hipomelanistico">Hipomelanístico</option>
                            <option value="Anerytristico">Anerytrístico (sin rojo)</option>
                            <option value="Melanistico">Melanístico (exceso de negro)</option>
                            <option value="Moteado">Moteado / Spotted</option>
                            <option value="Rayado">Rayado / Striped</option>
                            <option value="Bicolor">Bicolor</option>
                            <option value="Tricolor">Tricolor</option>
                            <option value="Caramel">Caramel</option>
                            <option value="Pastel">Pastel</option>
                            <option value="Piebald">Piebald (manchas blancas irregulares)</option>
                            <option value="Patternless">Patternless (sin patrón)</option>
                            <option value="Motley">Motley (líneas dorsales unidas)</option>
                            <option value="Jungle">Jungle (diseños irregulares)</option>
                            <option value="Multicolor">Multicolor</option>
                            <option value="Manchas">Manchas</option>
                            <option value="Sólido">Sólido</option>
                        </select>
                    </div>

                    <!--En caso de Aves-->

                    <div class="patron hidden" id="patron-ave">
                        <select id="select-ave" name="patron">
                            <option value="Solido">Sólido (uniforme)</option>
                            <option value="Bicolor">Bicolor</option>
                            <option value="Tricolor">Tricolor</option>
                            <option value="Barrado">Barrado (Barras de colores con blancas)</option>
                            <option value="Listado">Rayado</option>
                            <option value="Moteado">Moteado</option>
                            <option value="Salpicado">Salpicado (Como una gota de un color esparcida en otro)</option>
                            <option value="Escamado">Escamado </option>
                            <option value="Perdiz">Perdiz (Partridge)</option>
                            <option value="Trigo">Trigo (Wheaten)</option>
                            <option value="Millefleur">Millefleur(Pequeñas manchas de colores en cada pluma)</option>
                            <option value="Pio">Pío (Manchas de forma irregular)</option>
                            <option value="Armiñado">Armiñado (Un color de fondo con blanco)</option>
                            <option value="Splash">Splash(Manchas blancas grandes e irregulares)</option>
                            <option value="Multicolor">Multicolor</option>
                            <option value="Manchas">Manchas</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label class="label2" for="Long">Largura del pelaje</label>
                    <select id="Long" name="Long" required>
                        <option value="Corto">Corto</option>
                        <option value="Mediano">Medio</option>
                        <option value="Largo">Largo</option>
                        <option value="Plumas">Plumas</option>
                        <option value="Escamas">Escamas</option>
                    </select>
                </div>

                <div>
                    <label class="label2" for="Tip">Tipo de pelo</label>
                    <select id="Tip" name="Tip" required>
                        <option value="Liso">Liso</option>
                        <option value="Rizado">Rizado</option>
                        <option value="Duro">Duro</option>
                        <option value="Plumas">Plumas</option>
                        <option value="Escamas">Escamas</option>
                    </select>
                </div>

                <div>
                    <label class="label2" for="Cues">Cuidados especiales </label>
                    <input class="input2" id="Cues" name="Cues" type="text" placeholder="Por ejemplo: Higiene constante"
                        required />
                </div>

                <div>
                    <label class="label2" for="Señas">Señas particulares </label>
                    <input class="input2" id="Señas" name="Señas" type="text"
                        placeholder="Por ejemplo: Esconde la cola por miedo" required />
                </div>

                <!-- Cambia el botón por un botón normal -->
                <td colspan="2"><a class="btn" href="../auth/pet-recepcionista2.html">Siguiente</a></td>

                <div class="divider"></div>
            </form>
        </section>
    </main>
    <!-- register-pet.html, antes de </body> -->
    <script src="../../assets/css/pet1.js"></script>
    <script>
        const API = "http://localhost:3000";

        const especieSel = document.getElementById("especieSelect");
        const razaSel = document.getElementById("razaSelect");

        async function cargarEspecies() {
            const res = await fetch(`${API}/especies`);
            const data = await res.json();

            especieSel.innerHTML = data
                .map(e => `<option value="${e.id_especie}">${e.nom_especie}</option>`)
                .join("");

            if (data.length) {
                cargarRazas(data[0].id_especie);
            }
        }

        async function cargarRazas(idEspecie) {
            razaSel.innerHTML = `<option value="">Cargando...</option>`;

            const res = await fetch(`${API}/razas?especie=${idEspecie}`);
            const data = await res.json();

            if (!data.length) {
                razaSel.innerHTML = `<option value="">(Sin razas)</option>`;
                return;
            }

            razaSel.innerHTML = data
                .map(r => `<option value="${r.id_raza}">${r.nom_raza}</option>`)
                .join("");
        }

        especieSel.addEventListener("change", e => {
            cargarRazas(e.target.value);
        });

        cargarEspecies();
    </script>

</body>

</html>